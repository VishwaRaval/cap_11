# YOLOv11s Hyperparameters - CONSERVATIVE for Dehazed Data
# For use AFTER dehazing preprocessing
# Goal: Let the clean images speak for themselves

# Learning rate settings - STANDARD
lr0: 0.01                 # Standard initial LR
lrf: 0.01                 # Standard decay
momentum: 0.937           
weight_decay: 0.0005      # Standard regularization
warmup_epochs: 3.0        # Standard warmup
warmup_momentum: 0.8      
warmup_bias_lr: 0.1       

# Loss weights - HIGHER CLS for 3-class
box: 7.5                  
cls: 1.3                  # Higher than moderate (1.2) for class distinction
dfl: 1.5                  

# Augmentation - VERY CONSERVATIVE (data is already enhanced by dehazing)
degrees: 3.0              # MINIMAL rotation
translate: 0.1            # MINIMAL translation
scale: 0.4                # MODERATE scale only
shear: 2.0                # MINIMAL shear
perspective: 0.0          # NO perspective
flipud: 0.0               # NO vertical flip
fliplr: 0.5               # Horizontal flip OK

# Photometric augmentations - MINIMAL (dehazing already fixed lighting)
hsv_h: 0.01               # MINIMAL hue shift
hsv_s: 0.3                # LIGHT saturation variation
hsv_v: 0.2                # LIGHT brightness variation

# Multi-class augmentations - LIGHT
mosaic: 1.0               
mixup: 0.05               # LIGHT mixup
copy_paste: 0.0           # NO copy-paste (clean data doesn't need it)

# NMS settings - BALANCED
iou: 0.5                  # Standard NMS IoU
conf: 0.25                # Standard confidence

# Training stability
close_mosaic: 10          

# Very light regularization (clean data needs less)
dropout: 0.0              # NO dropout
label_smoothing: 0.0      # NO label smoothing

# Notes:
# - This assumes preprocessing has cleaned up the images
# - Conservative augmentation lets the model learn from clean data
# - Higher cls loss (1.3) for better 3-class distinction
# - NO dropout/label smoothing - clean data trains better without excessive regularization